# testhdb

The testhdb is an hdb generated with randomized sequences and a set of test-specific keys. The following example contains actual generated keys which are _not_ used in production (but they may not be the current keys used for tests and CI).

Keys are generated by:

```bash
λsecuredna on  main > cargo run --bin genkey
31c863fab331e00437f7282c5cf19bd2138edac3ecce19ff39ad1f516e91f403

λsecuredna on  main ❯ cargo run --bin genkeyshares -- --keyholders-required 3 --num-keyholders 3 31c863fab331e00437f7282c5cf19bd2138edac3ecce19ff39ad1f516e91f403
7f817c80bc21763850189acbb811f76091bf3fec78aeb7043a579e17cc81900a
00e09ef87135dc07e8446b2eda59694b18c4baf252fac28828a691d1d5982f08
a1b7c0bfeecf24cbd41994f79ec3d1a6a89b4bd77ab23b8b059af97e8bd6d10c

λsecuredna on  main [✘] > cargo run --bin genactivesecuritykey -- --keyholders-required 3 --keyshares 7f817c80bc21763850189acbb811f76091bf3fec78aeb7043a579e17cc81900a,00e09ef87135dc07e8446b2eda59694b18c4baf252fac28828a691d1d5982f08,a1b7c0bfeecf24cbd41994f79ec3d1a6a89b4bd77ab23b8b059af97e8bd6d10c 31c863fab331e00437f7282c5cf19bd2138edac3ecce19ff39ad1f516e91f403
3ec06d4dd53cda99961a28931dbec75d5b771ee38d624b99fb23a3ccc6043751
804291d2d5ac384af2b2b136427122335c690272a00bbba4aa54467efb78ba7e
129e28870a0e67afb89e2a7519a3bcb32b4db1f6c6aca504b7d641057f24806d

```

Using these keys, you may run testhdb in your local development environment by exporting the appropriate environment variables:
```
export SECUREDNA_KEYSERVER_ACTIVE_SECURITY_KEY="3ec06d4dd53cda99961a28931dbec75d5b771ee38d624b99fb23a3ccc6043751,804291d2d5ac384af2b2b136427122335c690272a00bbba4aa54467efb78ba7e,129e28870a0e67afb89e2a7519a3bcb32b4db1f6c6aca504b7d641057f24806d"
export SECUREDNA_KEYSERVER_KEYSHARE_1="7f817c80bc21763850189acbb811f76091bf3fec78aeb7043a579e17cc81900a"
export SECUREDNA_KEYSERVER_KEYSHARE_2="00e09ef87135dc07e8446b2eda59694b18c4baf252fac28828a691d1d5982f08"
export SECUREDNA_KEYSERVER_KEYSHARE_3="a1b7c0bfeecf24cbd41994f79ec3d1a6a89b4bd77ab23b8b059af97e8bd6d10c"
```

See also the `.env` file in the root of this repo. When running the system through `docker compose`, the env vars in `.env` are automatically picked up.
